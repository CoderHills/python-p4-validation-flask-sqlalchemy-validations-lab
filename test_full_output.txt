============================= test session starts ==============================
platform darwin -- Python 3.13.1, pytest-7.1.3, pluggy-1.6.0 -- /Users/coderhillary/.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/bin/python
cachedir: .pytest_cache
rootdir: /Users/coderhillary/Documents/python-p4-validation-flask-sqlalchemy-validations-lab, configfile: pytest.ini
plugins: anyio-4.12.0, Faker-14.2.0
collecting ... collected 1 item

Class Author in models.py requires each record to have a unique name. FAILED [100%]

=================================== FAILURES ===================================
_____________________ TestAuthor.test_requires_unique_name _____________________

self = <models_test.TestAuthor object at 0x10601b9d0>

    def test_requires_unique_name(self):
        '''requires each record to have a unique name.'''
        with app.app_context():
            db.create_all()
            db.session.query(Author).delete()
            db.session.commit()
    
        with app.app_context():
            author_a = Author(name = 'Ben', phone_number = '1231144321')
            db.session.add(author_a)
            db.session.commit()
    
>           with pytest.raises(ValueError):
E           Failed: DID NOT RAISE <class 'ValueError'>

server/testing/models_test.py:38: Failed
=============================== warnings summary ===============================
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:726
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:726
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:726
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:726
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:726
  /Users/coderhillary/.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:726: DeprecationWarning: ast.Str is deprecated and will be removed in Python 3.14; use ast.Constant instead
    parts = parts or [ast.Str("")]

../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723
  /Users/coderhillary/.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:723: DeprecationWarning: ast.Str is deprecated and will be removed in Python 3.14; use ast.Constant instead
    _convert(elem) if is_dynamic else ast.Str(s=elem)

../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
  /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608: DeprecationWarning: Constant.__init__ got an unexpected keyword argument 's'. Support for arbitrary keyword arguments is deprecated and will be removed in Python 3.15.
    return Constant(*args, **kwargs)

../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
  /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608: DeprecationWarning: Attribute s is deprecated and will be removed in Python 3.14; use value instead
    return Constant(*args, **kwargs)

../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
../../../../Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608
  /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ast.py:608: DeprecationWarning: Constant.__init__ missing 1 required positional argument: 'value'. This will become an error in Python 3.15.
    return Constant(*args, **kwargs)

../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:730: 10 warnings
  /Users/coderhillary/.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:730: DeprecationWarning: ast.Str is deprecated and will be removed in Python 3.14; use ast.Constant instead
    if isinstance(p, ast.Str) and isinstance(ret[-1], ast.Str):

../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
  /Users/coderhillary/.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731: DeprecationWarning: Attribute s is deprecated and will be removed in Python 3.14; use value instead
    ret[-1] = ast.Str(ret[-1].s + p.s)

../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
../../.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731
  /Users/coderhillary/.local/share/virtualenvs/coffee_shop-Pfzn6qKQ/lib/python3.13/site-packages/werkzeug/routing/rules.py:731: DeprecationWarning: ast.Str is deprecated and will be removed in Python 3.14; use ast.Constant instead
    ret[-1] = ast.Str(ret[-1].s + p.s)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED Class Author in models.py requires each record to have a unique name.
======================== 1 failed, 59 warnings in 1.76s ========================
